<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        RAPPORT [AI06] - Clément Girard, Alexandre Jörgensen - CodiMD
    </title>
    <link rel="icon" type="image/png" href="https://md.picasoft.net/favicon.png">
    <link rel="apple-touch-icon" href="https://md.picasoft.net/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.0/css/bootstrap.min.css" integrity="sha256-H0KfTigpUV+0/5tn2HXC0CPwhhDhWgSawJdnFd0CGCo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fork-awesome/1.1.3/css/fork-awesome.min.css" integrity="sha256-ZhApazu+kejqTYhMF+1DzNKjIzP7KXu6AzyXcC1gMus=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css" integrity="sha256-tAflq+ymku3Khs+I/WcAneIlafYgDiOQ9stIHH985Wo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,600,600italic,300italic,300|Source+Serif+Pro|Source+Code+Pro:400,300,500&subset=latin,latin-ext);.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{padding:0 1em;color:#777;border-left:.25em solid #ddd}.night .markdown-body blockquote{color:#bcbcbc}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.night .markdown-body h1,.night .markdown-body h2,.night .markdown-body h3,.night .markdown-body h4,.night .markdown-body h5,.night .markdown-body h6{color:#ddd}.markdown-body h1 .fa-link,.markdown-body h2 .fa-link,.markdown-body h3 .fa-link,.markdown-body h4 .fa-link,.markdown-body h5 .fa-link,.markdown-body h6 .fa-link{color:#000;vertical-align:middle;visibility:hidden;font-size:16px}.night .markdown-body h1 .fa-link,.night .markdown-body h2 .fa-link,.night .markdown-body h3 .fa-link,.night .markdown-body h4 .fa-link,.night .markdown-body h5 .fa-link,.night .markdown-body h6 .fa-link{color:#fff}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .fa-link,.markdown-body h2:hover .anchor .fa-link,.markdown-body h3:hover .anchor .fa-link,.markdown-body h4:hover .anchor .fa-link,.markdown-body h5:hover .anchor .fa-link,.markdown-body h6:hover .anchor .fa-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.night .markdown-body table tr{background-color:#5f5f5f}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.night .markdown-body table tr:nth-child(2n){background-color:#4f4f4f}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:.2em 0;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.night .markdown-body code,.night .markdown-body tt{color:#eee;background-color:hsla(0,0%,90.2%,.36)}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\A0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.markdown-body kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid;border-color:#ccc #ccc #bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important}.markdown-body pre{border:inherit!important}.night .markdown-body pre{filter:invert(100%)}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-webkit-inline-flex;display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.night .markdown-body .gist table tr:nth-child(2n){background-color:#ddd}.markdown-body code[data-gist-id]{background:none;padding:0;filter:invert(100%)}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.geo,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{text-align:center;background-color:inherit;border-radius:0;white-space:inherit}.night .markdown-body pre.graphviz .graph>polygon{fill:#333}.night .markdown-body pre.mermaid .sectionTitle,.night .markdown-body pre.mermaid .titleText,.night .markdown-body pre.mermaid text{fill:#fff}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{max-width:100%;height:100%}.night .markdown-body .abc path{fill:#eee}.night .markdown-body .abc path.note_selected{fill:##4DD0E1}.night tspan{fill:#fefefe}.night pre rect{fill:transparent}.night pre.flow-chart path,.night pre.flow-chart rect{stroke:#fff}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body img{background-color:transparent}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;-webkit-transition:opacity .2s;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;-webkit-transition:opacity .2s;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.geo-map{width:100%;height:250px}.markmap-container{height:300px}.markmap-container>svg{width:100%;height:100%}.MJX_Assistive_MathML{display:none}.ui-infobar{position:relative;z-index:2;max-width:758px;margin-top:25px;margin-bottom:-25px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:10000}.ui-toc-label{opacity:.9;background-color:#ccc;border:none}.ui-toc-label,.ui-toc .open .ui-toc-label{-webkit-transition:opacity .2s;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#5f5f5f}.ui-toc-label:focus{opacity:1;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;-webkit-transition:opacity .2s;transition:opacity .2s}.ui-toc-dropdown{margin-top:23px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child>ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.night .ui-toc-dropdown .nav>li>a:focus,.night .ui-toc-dropdown .nav>li>a:hover{color:#fff;border-left-color:#fff}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.night .ui-toc-dropdown .nav>.active:focus>a,.night .ui-toc-dropdown .nav>.active:hover>a,.night .ui-toc-dropdown .nav>.active>a{color:#fff;border-left:2px solid #fff}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.night .ui-toc-dropdown .nav>li>a{color:#aaa}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:50px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>a{padding-right:50px}.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:60px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>ul>li>a{padding-right:60px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>a:hover{padding-left:49px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>a:hover{padding-right:49px}.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>ul>li>ul>li>a:hover{padding-left:59px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>ul>li>ul>li>a:hover{padding-right:59px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active>a{padding-left:48px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.active>.nav>.nav>.active>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>.nav>.active:hover>a{padding-right:48px}.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active>a{padding-left:58px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.active>.nav>.nav>.active>.nav>.active>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>.nav>.active>.nav>.active:hover>a{padding-right:58px}.markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,Hiragino Kaku Gothic Pro,"\30D2\30E9\30AE\30CE\89D2\30B4   Pro W3",Osaka,Meiryo,"\30E1\30A4\30EA\30AA",MS Gothic,"\FF2D\FF33   \30B4\30B7\30C3\30AF",sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,"\FF2D\FF33   \FF30\30B4\30B7\30C3\30AF",sans-serif}.markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang TC,Microsoft JhengHei,"\5FAE\8EDF\6B63\9ED1",sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,"\5FAE\8EDF\6B63\9ED1UI",sans-serif}.markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang SC,Microsoft YaHei,"\5FAE\8F6F\96C5\9ED1",sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,"\5FAE\8F6F\96C5\9ED1UI",sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:rgba(0,0,0,.85)}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:3px;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:contain}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}small span{line-height:22px}small .dropdown{display:inline-block}small .dropdown a:focus,small .dropdown a:hover{text-decoration:none}.unselectable{-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;user-select:none}.night .navbar{background:#333;border-bottom-color:#333;color:#eee}.night .navbar a{color:#eee}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;font-family:Source Sans Pro,Helvetica,Arial,sans-serif;letter-spacing:.025em}.focus,:focus{outline:none!important}::-moz-focus-inner{border:0!important}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid"><h1 id="RAPPORT-AI06---Clément-Girard-Alexandre-Jörgensen"><a class="anchor hidden-xs" href="#RAPPORT-AI06---Clément-Girard-Alexandre-Jörgensen" title="RAPPORT-AI06---Clément-Girard-Alexandre-Jörgensen"><i class="fa fa-link"></i></a>RAPPORT [AI06] - Clément Girard, Alexandre Jörgensen</h1><h2 id="Introduction"><a class="anchor hidden-xs" href="#Introduction" title="Introduction"><i class="fa fa-link"></i></a>Introduction</h2><p>Lors des TPs d’AI06, nous avons pu découvrir les robots <strong>Turtlebot</strong>. Les éléments principaux de ces robots sont un mini ordinateur <strong>Raspberry Pi 3</strong>, 2 <strong>servomoteurs Dynamixel</strong> série X, une carte de contrôle open source programmable en Arduino et de nombreux capteurs (gyroscope, accéléromètre, boussole, sharp, caméra et <strong>Lidar</strong>) pour la navigation et la détection de l’environnement. Alors que nous avons pu mettre en oeuvre de nombreux capteurs dans chacun des TP, le projet final se place en conclusion et rassemble les nombreuses compétences et codes que nous avons pu utiliser.</p><p>Côté logiciel, nous avons utilisé la combinaison de <strong>ROS</strong> <em>Robot Operating System</em> et de <strong>Python</strong> sur une machine virtuelle tournant sous <strong>Linux</strong>. ROS est un ensemble de bibliothèques logicielles et d’outils qui aident à créer des applications robotiques. Des pilotes aux algorithmes de pointe, en passant par de puissants outils de développement. Quant à lui Python est un langage de programmation interprété de haut niveau à usage général. La philosophie de conception de Python met l’accent sur la lisibilité du code avec son utilisation notable d’une indentation importante et d’une syntaxe puissante.</p><h3 id="Rappel-du-projet"><a class="anchor hidden-xs" href="#Rappel-du-projet" title="Rappel-du-projet"><i class="fa fa-link"></i></a>Rappel du projet</h3><p>Nous avons choisi de travailler sur le projet n°4 dénommé <strong>Caméra &amp; LiDAR &amp; Odométrie</strong>. Pour rappel, le robot devra êrte capable de cartographier, suivre une cible et revenir à sa position initiale en toute sécurité. La cible, un objet de couleur unie, distincte et connue est détectée par caméra. Le robot est naturellement statique mais cherche à se rapprocher de la cible lorsqu’il en détecte une et s’oriente de manière à centrer la cible dans son image. En parallèle de cela, le LiDAR est utilisé pour détecter d’éventuels obstacles dans sa trajectoire. Lorsque trop proche d’un obstacle, le robot s’arrête pour signaler qu’il a besoin qu’on le déplace manuellement. Il garde une mémoire d’où se trouvent les obstacles à l’aide d’une grille d’occupation . Lorsqu’une cible n’est plus détectée pendant plus de cinq secondes, le robot, qui sait où il se trouve grâce à son odométrie, cherche à revenir à son point de départ en évitant les obstacles cartographiés.</p><h3 id="Prises-de-liberté-sur-le-sujet"><a class="anchor hidden-xs" href="#Prises-de-liberté-sur-le-sujet" title="Prises-de-liberté-sur-le-sujet"><i class="fa fa-link"></i></a>Prises de liberté sur le sujet</h3><p>Connaissant les limites posés par l’utilisation de caméras dans un suivi d’objets, <em>variation de la luminosité empêchant un fonctionne correcte et des recalibrations intempestives</em> nous avons décidé de  modifier légèrement ce sujet qui nous inspirait vraiment. Nous avons donc demandé s’il était possible de remplacer la caméra par le Lidar pour le suivit d’objet. Cette modification nous ayant été accordée, nous avons pu débuter le projet en sachant ce que nous voulons atteindre comme objectifs.</p><p>Dans ce projet, nous utiliserons donc le Lidar à la fois pour suivre l’objet et pour cartographier la zone, et les capteurs odométriques pour calculer la position du robot.</p><h2 id="Les-capteurs-et-effecteurs-utilisés"><a class="anchor hidden-xs" href="#Les-capteurs-et-effecteurs-utilisés" title="Les-capteurs-et-effecteurs-utilisés"><i class="fa fa-link"></i></a>Les capteurs et effecteurs utilisés</h2><p>Comme dit précédement, nous avons choisi d’utiliser le Lidar et l’odométrie des roues. Nous n’avons pas utilisé plus de capteur ou entrepris une fusion des données pour gagner en présision par manque de temps sur le projet.</p><h3 id="Le-Lidar"><a class="anchor hidden-xs" href="#Le-Lidar" title="Le-Lidar"><i class="fa fa-link"></i></a>Le Lidar</h3><p>Le lidar que nous avons utilisé est le <strong>360 LDS-01</strong> ce capteur fonctionne en 360 points, ce qui veut dire que sa tête rotative prend une mesure de distance tous les degrés parcourus. Celle-ci faisant entre 290 et 300 tours par minute, ce capteur est suffisant pour une localisation et une cartographie.</p><p><img src="https://www.researchgate.net/profile/Canberk-Suat-Gurel/publication/326986124/figure/fig1/AS:658889020293120@1534102792391/LDS-01-LIDAR-sensor-adapted-from-20.png" alt="Lidar." class="md-image md-image"></p><h3 id="L’odométrie"><a class="anchor hidden-xs" href="#L’odométrie" title="L’odométrie"><i class="fa fa-link"></i></a>L’odométrie</h3><p>Les moteurs de notre robot sont en réalité des servomoteurs à rotation continue. C’est-à-dire qu’ils n’ont pas de position de butée et peuvent donc effectuer autant de tours que nécessaires pour le déplacement du robot. Grâce a ces derniers, une odométrie précise est possible. Lors de ce projet, nous n’avons pas eu à manipuler les intégrations numériques, car elles sont nativement incluses dans le calculateur du servomoteur. Idem pour le déplacement, il nous suffit d’indiquer une vitesse de déplacement pour que celle-ci soit automatiquement régulée au niveau des roues.</p><p><img src="https://blog.generationrobots.com/wp-content/uploads/2016/05/robotis-dynamixel-xm-430-servomotor.jpg" alt="Servomoteur." class="md-image md-image"></p><h2 id="Suivit-de-l’objet"><a class="anchor hidden-xs" href="#Suivit-de-l’objet" title="Suivit-de-l’objet"><i class="fa fa-link"></i></a>Suivit de l’objet</h2><h3 id="Partition-de-l’espace"><a class="anchor hidden-xs" href="#Partition-de-l’espace" title="Partition-de-l’espace"><i class="fa fa-link"></i></a>Partition de l’espace</h3><p>Afin de suivre l’objet, nous avons décidé de partitionner l’espace de manière circulaire en forme de disque. Nous avons donc discriminé les zonne très proche <em>&lt;18 cm</em> et les zones lointaines <em>&gt;30 cm</em> de cette manière, on limite la vision du robot aux objets proches. En suite, nous avons choisi de binariser la matrice, toutes les mesures étant comprises dans cet intervalle seront à 1 et toutes les autres seront à 0.</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span></div><div class="code"><span class="hljs-comment"># On discrimine tous les points qui ne sont pas dans le disque</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(distance)):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> i == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">if</span> distance[i] &lt; <span class="hljs-number">0.1</span> <span class="hljs-keyword">or</span> distance[i] &gt; <span class="hljs-number">0.30</span>:
            bin_distance.append(<span class="hljs-number">0</span>)
            <span class="hljs-comment"># 0 pas dans le disque</span>
        <span class="hljs-keyword">else</span>:
            bin_distance.append(<span class="hljs-number">1</span>)
            <span class="hljs-comment"># 1 dans le dique</span>
</div></div></code></pre><p><img src="https://zupimages.net/up/21/25/h7fc.png" alt="Disque de detection." class="md-image md-image"><br>
<em>{1…1, 0…0, 1…1}</em></p><h3 id="Contiguïté"><a class="anchor hidden-xs" href="#Contiguïté" title="Contiguïté"><i class="fa fa-link"></i></a>Contiguïté</h3><p>Nous voilà donc avec un tableau binaire, afin d’éliminer les poussières et autres objets insignifiants comme le câble du robot, nous avons ajouté des contraintes sur le nombre de points contigus. Nous avons donc cherché dans le tableau binaire composé des 360 valeurs quel était le nuage de point contigu de plus grande taille, or l’espace étant discontinu et coupé entre 0 et 360, un objet positionné en face du robot était détecté en deux parties. C’est pourquoi nous avons décidé d’itérer notre algorithme sur deux tours et nous avons ajouté un modulo pour trouver le centre de l’objet.</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span></div><div class="code"><span class="hljs-comment"># On cherche dans deux tours consécutif la position de départ</span>
<span class="hljs-comment"># et d'arrivé du plus grand nombre de points à 1 contigue</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(bin_distance)*<span class="hljs-number">2</span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> bin_distance[i%len(bin_distance)]:
        <span class="hljs-keyword">if</span> count &gt; max_count:
            <span class="hljs-keyword">if</span> count &lt; <span class="hljs-number">50</span>: <span class="hljs-comment"># pour éviter de rester planter devant un mur</span>
                max_count = count
                start_stop = (i%len(bin_distance) - count, i%len(bin_distance))
                count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">else</span> :
        count += <span class="hljs-number">1</span>
</div></div></code></pre><p><img src="https://zupimages.net/up/21/25/s029.png" alt="Contiguïté au delà de la cassure." class="md-image md-image"><br>
<em>{0…0, 1…1, 0…0}</em></p><h3 id="Déplacement"><a class="anchor hidden-xs" href="#Déplacement" title="Déplacement"><i class="fa fa-link"></i></a>Déplacement</h3><p>Afin de gérer la rotation plus simplement, nous avons décidé de normaliser la position angulaire de l’objet face au lidar. Nous sommes passés d’un espace ou le 0 et le 360 se côtoyant en face du robot à un espace ou le demi-cercle de droite allait de 0 à -180 et le demi-cercle de gauche allait de 0 à 180.</p><p><img src="https://zupimages.net/up/21/25/b39x.png" alt="Normalisation de l'espace." class="md-image md-image"></p><p>Ainsi si le robot détecte que l’objet à suivre à un angle négatif, il lui suffit de tourner à droite. Tandis que si l’angle est positif on tournera à gauche. Nous avons adopté une vitesse paramétrique à l’approche de l’angle 0  afin que celui-ci ne soit pas dépassé.</p><p>Pour le déplacement du robot en avant, celui-ci s’exécute en même temps que la rotation vers l’objet pour un déplacement plus fluide. On avance si le robot est plus loin que 18 cm et on recule si l’objet est plus près afin d’éviter les collisions avec d’autres robots.</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span>
<span data-linenumber="12"></span>
<span data-linenumber="13"></span></div><div class="code">mean_ang = int(((start_stop[<span class="hljs-number">0</span>]+start_stop[<span class="hljs-number">1</span>]) / <span class="hljs-number">2</span>))%len(distance)
mean_dist = distance[mean_ang]
mean_ang = mean_ang - <span class="hljs-number">360</span> <span class="hljs-keyword">if</span> mean_ang &gt; <span class="hljs-number">180</span> <span class="hljs-keyword">else</span> mean_ang
print(<span class="hljs-string">"Angle de l'objet à suivre : "</span>, mean_ang)
print(<span class="hljs-string">"Distance de l'objet à suivre : "</span>, mean_dist)
<span class="hljs-keyword">if</span> mean_dist &lt; <span class="hljs-number">0.18</span>:
    move_cmd.linear.x = <span class="hljs-number">-0.05</span>
<span class="hljs-keyword">else</span>:
    move_cmd.linear.x = <span class="hljs-number">0.1</span>
<span class="hljs-keyword">if</span> abs(mean_ang) &gt; <span class="hljs-number">20</span>:
    move_cmd.angular.z = <span class="hljs-number">0.75</span> <span class="hljs-keyword">if</span> mean_ang &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">-0.75</span>
<span class="hljs-keyword">else</span> :
    move_cmd.angular.z = <span class="hljs-number">0.20</span> <span class="hljs-keyword">if</span> mean_ang &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">-0.20</span>
</div></div></code></pre><h2 id="Cartographie-de-l’environement"><a class="anchor hidden-xs" href="#Cartographie-de-l’environement" title="Cartographie-de-l’environement"><i class="fa fa-link"></i></a>Cartographie de l’environement</h2><h3 id="Choix-technique-et-de-représentation-pour-la-cartographie"><a class="anchor hidden-xs" href="#Choix-technique-et-de-représentation-pour-la-cartographie" title="Choix-technique-et-de-représentation-pour-la-cartographie"><i class="fa fa-link"></i></a>Choix technique et de représentation pour la cartographie</h3><p>Afin de cartographier notre environnement, nous sommes parti sur un tableau à deux dimensions, de largeur et longueur égale. Le nombre de case est calculé en fonction de la largeur que l’on veut donner à notre cartographie (dans notre programme 400cm) et de la largeur des cases du tableau (dans notre programme 10cm). Le robot lui est placé au centre de cette grille par définition, lui permettant de se déplacer dans toutes les directions dès le début de notre programme.</p><p>Nous avons choisi de représenter notre matrice d’occupation de la manière suivante :</p><ul>
<li>Les -1 sont des cases inconnues (on ne sait pas si la case est pleine ou vide car elle est cachée par un obstacle)</li>
<li>Les 0, la case est vide car le lidar à détecter un obstacle plus loin.</li>
<li>Les 1, la case est pleine et contient un obstacle</li>
</ul><p>Nous avons utilisé une fonction d’affichage terminale afin de représenter la matrice d’occupation de manière rapide et efficace à coder. Dans un but de simplification, nous représentons la case où ce situe le robot avec un 2, puis celle-ci est logiquement remplacé par un 0 qui représente une case vide (ce n’est ni une case inconnue car on est sur celle-ci, ni un mur car le robot ne peut s’y trouver ou s’en approcher)</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span></div><div class="code"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> carto:
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> i:
        <span class="hljs-keyword">if</span> j == <span class="hljs-number">-1</span>:
            print(<span class="hljs-string">'?'</span>, end=<span class="hljs-string">''</span>)
        <span class="hljs-keyword">elif</span> j == <span class="hljs-number">0</span> :
            print(<span class="hljs-string">' '</span>, end=<span class="hljs-string">''</span>)
        <span class="hljs-keyword">elif</span> j ==<span class="hljs-number">1</span> :
            print(<span class="hljs-string">'X'</span>, end=<span class="hljs-string">''</span>)
        <span class="hljs-keyword">else</span> :
            print(<span class="hljs-string">'O'</span>, end=<span class="hljs-string">''</span>)
    print(<span class="hljs-string">''</span>)
</div></div></code></pre><p>Le programme va suivre les étapes suivantes pour mettre à jour sa cartographie :</p><ol>
<li>Créer une nouvelle cartographie et y mettre les obstacles</li>
<li>Détecter les zonnes vides et les zones inconnues</li>
<li>Fusionner cette nouvelle cartographie à l’ancienne</li>
</ol><h3 id="Détection-des-obstacles"><a class="anchor hidden-xs" href="#Détection-des-obstacles" title="Détection-des-obstacles"><i class="fa fa-link"></i></a>Détection des obstacles</h3><p>Pour détecter les murs, nous créons une nouvelle cartoghraphie, qui est entièrement initialisé à -1 (état inconnu). Ensuite, pour chacun des points détectés par le lidar qui sont assez éloigné de notre robot (pour éviter de prendre en compte l’objet que le robot suit), nous calculons sa position absolue <strong>(x,y)</strong> à l’aide de cette formule :<br>
<span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-685-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>=</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>&amp;#x2217;</mo><mi>cos</mi><mo>&amp;#x2061;</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>&amp;#x03B8;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>&amp;#x03B8;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo><mi>y</mi><mo>=</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>&amp;#x2217;</mo><mi>sin</mi><mo>&amp;#x2061;</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>&amp;#x03B8;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>&amp;#x03B8;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-46338" style="width: 38.526em; display: inline-block;"><span style="display: inline-block; position: relative; width: 33.19em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.567em, 1033.1em, 2.927em, -1000em); top: -2.478em; left: 0em;"><span class="mrow" id="MathJax-Span-46339"><span class="mo" id="MathJax-Span-46340" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-46341" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-46342" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-46343" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 2.21em; height: 0px;"><span style="position: absolute; clip: rect(3.383em, 1000.52em, 4.16em, -1000em); top: -3.987em; left: 0em;"><span class="mi" id="MathJax-Span-46344" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span style="position: absolute; top: -3.837em; left: 0.572em;"><span class="texatom" id="MathJax-Span-46345"><span class="mrow" id="MathJax-Span-46346"><span class="mi" id="MathJax-Span-46347" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-46348" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46349" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-46350" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46351" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span class="mo" id="MathJax-Span-46352" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-46353" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 2.217em; height: 0px;"><span style="position: absolute; clip: rect(3.131em, 1000.52em, 4.159em, -1000em); top: -3.987em; left: 0em;"><span class="mi" id="MathJax-Span-46354" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span style="position: absolute; top: -3.837em; left: 0.52em;"><span class="texatom" id="MathJax-Span-46355"><span class="mrow" id="MathJax-Span-46356"><span class="mi" id="MathJax-Span-46357" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-46358" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46359" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-46360" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-46361" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span class="mo" id="MathJax-Span-46362" style="font-family: MathJax_Main; padding-left: 0.222em;">∗</span><span class="mi" id="MathJax-Span-46363" style="font-family: MathJax_Main; padding-left: 0.222em;">cos</span><span class="mo" id="MathJax-Span-46364"></span><span class="mo" id="MathJax-Span-46365" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-46366"><span style="display: inline-block; position: relative; width: 2.107em; height: 0px;"><span style="position: absolute; clip: rect(3.12em, 1000.46em, 4.159em, -1000em); top: -3.987em; left: 0em;"><span class="mi" id="MathJax-Span-46367" style="font-family: MathJax_Math; font-style: italic;">θ</span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span style="position: absolute; top: -3.837em; left: 0.469em;"><span class="texatom" id="MathJax-Span-46368"><span class="mrow" id="MathJax-Span-46369"><span class="mi" id="MathJax-Span-46370" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-46371" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46372" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-46373" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46374" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span class="mo" id="MathJax-Span-46375" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-46376" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 2.166em; height: 0px;"><span style="position: absolute; clip: rect(3.12em, 1000.46em, 4.159em, -1000em); top: -3.987em; left: 0em;"><span class="mi" id="MathJax-Span-46377" style="font-family: MathJax_Math; font-style: italic;">θ</span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span style="position: absolute; top: -3.837em; left: 0.469em;"><span class="texatom" id="MathJax-Span-46378"><span class="mrow" id="MathJax-Span-46379"><span class="mi" id="MathJax-Span-46380" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-46381" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46382" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-46383" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-46384" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span class="mo" id="MathJax-Span-46385" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-46386" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-46387" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-46388" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-46389" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 2.128em; height: 0px;"><span style="position: absolute; clip: rect(3.383em, 1000.5em, 4.354em, -1000em); top: -3.987em; left: 0em;"><span class="mi" id="MathJax-Span-46390" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span style="position: absolute; top: -3.837em; left: 0.49em;"><span class="texatom" id="MathJax-Span-46391"><span class="mrow" id="MathJax-Span-46392"><span class="mi" id="MathJax-Span-46393" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-46394" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46395" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-46396" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46397" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span class="mo" id="MathJax-Span-46398" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-46399" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 2.217em; height: 0px;"><span style="position: absolute; clip: rect(3.131em, 1000.52em, 4.159em, -1000em); top: -3.987em; left: 0em;"><span class="mi" id="MathJax-Span-46400" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span style="position: absolute; top: -3.837em; left: 0.52em;"><span class="texatom" id="MathJax-Span-46401"><span class="mrow" id="MathJax-Span-46402"><span class="mi" id="MathJax-Span-46403" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-46404" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46405" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-46406" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-46407" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span class="mo" id="MathJax-Span-46408" style="font-family: MathJax_Main; padding-left: 0.222em;">∗</span><span class="mi" id="MathJax-Span-46409" style="font-family: MathJax_Main; padding-left: 0.222em;">sin</span><span class="mo" id="MathJax-Span-46410"></span><span class="mo" id="MathJax-Span-46411" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-46412"><span style="display: inline-block; position: relative; width: 2.107em; height: 0px;"><span style="position: absolute; clip: rect(3.12em, 1000.46em, 4.159em, -1000em); top: -3.987em; left: 0em;"><span class="mi" id="MathJax-Span-46413" style="font-family: MathJax_Math; font-style: italic;">θ</span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span style="position: absolute; top: -3.837em; left: 0.469em;"><span class="texatom" id="MathJax-Span-46414"><span class="mrow" id="MathJax-Span-46415"><span class="mi" id="MathJax-Span-46416" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-46417" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46418" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-46419" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46420" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span class="mo" id="MathJax-Span-46421" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-46422" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 2.166em; height: 0px;"><span style="position: absolute; clip: rect(3.12em, 1000.46em, 4.159em, -1000em); top: -3.987em; left: 0em;"><span class="mi" id="MathJax-Span-46423" style="font-family: MathJax_Math; font-style: italic;">θ</span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span><span style="position: absolute; top: -3.837em; left: 0.469em;"><span class="texatom" id="MathJax-Span-46424"><span class="mrow" id="MathJax-Span-46425"><span class="mi" id="MathJax-Span-46426" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-46427" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46428" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-46429" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-46430" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 3.987em;"></span></span></span></span><span class="mo" id="MathJax-Span-46431" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-46432" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.478em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.396em; border-left: 0px solid; width: 0px; height: 1.328em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>r</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>∗</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>θ</mi><mrow class="MJX-TeXAtom-ORD"><mi>r</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo><mo>,</mo><mi>y</mi><mo>=</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>r</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>∗</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>θ</mi><mrow class="MJX-TeXAtom-ORD"><mi>r</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-685">(x=x_{robot}+d_{point}*\cos(\theta_{robot}+\theta_{point}), y=y_{robot}+d_{point}*\sin(\theta_{robot}+\theta_{point}))</script></span><br>
Nous utilisons cette position pour savoir si ce point est dans la cartographie, et si oui on ajoute 1 à la case correspondant à cette position.<br>
Enfin, nous regardons pour chacune des cases combien de points elle contient. Si elle en contient au moins 3, alors cette case est considéré comme un obstacle. Sinon, elle est considéré comme inconnue. Cette étape permet d’éviter le bruit que pourrait causer par exemple une poussière dans la captation de l’environnement par le robot</p><h3 id="Algorithme-pour-la-décision-des-zones-inconnues-ou-vide"><a class="anchor hidden-xs" href="#Algorithme-pour-la-décision-des-zones-inconnues-ou-vide" title="Algorithme-pour-la-décision-des-zones-inconnues-ou-vide"><i class="fa fa-link"></i></a>Algorithme pour la décision des zones inconnues ou vide</h3><p>Afin de déterminer quels sont les cases inconnues et les cases vides parmis les cases qui ne sont pas des obstacles, nous avons décidé d’opter pour un algorithme calculant les cases qui permettent de <strong>tracer une ligne droite entre un obstacle et le robot</strong>, auxquels on considère qu’elles sont vides si elles sont jusque là inconnue. Cela permet de considérer les cases au delà des obstacles comme inconnues.</p><p>Nous avons commencé par utiliser <strong>l’algorithme de Bresenham</strong> qui trace une ligne la plus courte entre le robot et les obstacles. Cette algorithme va d’abord déterminer la droite qui relie ces deux point, puis va se déplacer par incrément d’une case dans la direction horizontale, et calculer une erreur verticale pour chacun de ces incréments. Si celui-ci est suppérieur à 0.5, alors l’algorithme va incrémenter de 1 son tracé au niveau verticale.<img src="https://md.picasoft.net/uploads/upload_f4bbd4d18a0a02d7c9322c1f93b49ac6.png" alt="" class="md-image md-image"><br>
Cependant, cet algorithme connait deux limitations : en effets, celui-ci ne marche que sur un cadran. Il faudrait donc l’adpter pour le répéter sur tous les cadrans afin d’obtenir un traitement à 360°. Deuxièmement, il ne permet pas d’avoir deux cases marqués comme vide sur une même colonne donné : soit la case suivant est sur la même ligne et la colonne d’après, soit elle est sur la ligne du dessus et la colonne d’après. Ainsi, on perd de l’information sur les cases qui sont vides</p><p>Nous avons donc choisi de remplacer cet algorithme de Bresenham par un algorithme <strong>“fait maison”</strong>. Cet algorithme va dans un premier temps calculer la distance en x et en y qui sépare le robot d’un obstacle, puis calculer l’hypothénuse qui représente sa distance séparant ces deux points. Nous calculons ensuite le *<em>pas en x et en y</em> à chaque fois que nous avancons de 0.5 case sur l’hypothénuse. Enfin, nous partons de la position du robot et bouclons en ajoutant les pas précédement calculé à la position en x et en y tant que nous ne sommes pas arrivé à la position de l’obstacle. <strong>Ainsi, toutes les cases qui se situent à 0.5 case sur le segement reliant le robot à l’obstacle sont assigné comme vides, sauf si elles sont déjà considérés comme un obstacle</strong>. En appliquant cet algorithme à l’ensemble des obstacles, il est ainsi possible de déterminer quels sont les cases que le capteur <strong>lidar</strong> du robot à pu parcourir sans rencontrer d’obstacle, et ainsi que l’on considère comme vide<br>
<img src="https://md.picasoft.net/uploads/upload_3d3c51c814c070d4c3e42fa9a068b20e.png" alt="" class="md-image md-image"></p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span>
<span data-linenumber="12"></span>
<span data-linenumber="13"></span>
<span data-linenumber="14"></span>
<span data-linenumber="15"></span>
<span data-linenumber="16"></span></div><div class="code"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">faitMaison</span><span class="hljs-params">(self, x1, y1, x2, y2, carthographieTemporaire)</span>:</span>
    dx = x2 - x1
    dy = y2 - y1
    hyp = np.sqrt(dx**<span class="hljs-number">2</span>+dy**<span class="hljs-number">2</span>)
    pas_x = dx/(<span class="hljs-number">2</span>*hyp)
    pas_y = dy/(<span class="hljs-number">2</span>*hyp)
    x = x1
    y = y1
    count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> np.abs(pas_x *count) &lt;= np.abs(dx) <span class="hljs-keyword">and</span> np.abs(pas_y *count) &lt;= np.abs(dy):
        <span class="hljs-keyword">if</span> carthographieTemporaire[int(x)][int(y)] != <span class="hljs-number">1</span>:
            carthographieTemporaire[int(x)][int(y)] = <span class="hljs-number">0</span>
        x += pas_x
        y += pas_y
        count += <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> carthographieTemporaire
</div></div></code></pre><h3 id="Fusion-des-cartographies"><a class="anchor hidden-xs" href="#Fusion-des-cartographies" title="Fusion-des-cartographies"><i class="fa fa-link"></i></a>Fusion des cartographies</h3><p>Une fois cette nouvelle cartographie faite, nous la fusionons avec l’ancienne pour faire une mise à jour de la cartographie se déplace à mesure que le robot avance. Pour cela, nous suivons cette règle d’importance :<br>
<span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-695-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>o</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>c</mi><mi>l</mi><mi>e</mi><mo>&amp;gt;</mo><mi>v</mi><mi>i</mi><mi>d</mi><mi>e</mi><mo>&amp;gt;</mo><mi>i</mi><mi>n</mi><mi>c</mi><mi>o</mi><mi>n</mi><mi>n</mi><mi>u</mi></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-46640" style="width: 13.473em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.584em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.623em, 1011.56em, 2.68em, -1000em); top: -2.478em; left: 0em;"><span class="mrow" id="MathJax-Span-46641"><span class="mi" id="MathJax-Span-46642" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46643" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-46644" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="mi" id="MathJax-Span-46645" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-46646" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-46647" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-46648" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mi" id="MathJax-Span-46649" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mo" id="MathJax-Span-46650" style="font-family: MathJax_Main; padding-left: 0.278em;">&gt;</span><span class="mi" id="MathJax-Span-46651" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">v</span><span class="mi" id="MathJax-Span-46652" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-46653" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-46654" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mo" id="MathJax-Span-46655" style="font-family: MathJax_Main; padding-left: 0.278em;">&gt;</span><span class="mi" id="MathJax-Span-46656" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">i</span><span class="mi" id="MathJax-Span-46657" style="font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-46658" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-46659" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-46660" style="font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-46661" style="font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-46662" style="font-family: MathJax_Math; font-style: italic;">u</span></span><span style="display: inline-block; width: 0px; height: 2.478em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.109em; border-left: 0px solid; width: 0px; height: 0.976em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>o</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>c</mi><mi>l</mi><mi>e</mi><mo>&gt;</mo><mi>v</mi><mi>i</mi><mi>d</mi><mi>e</mi><mo>&gt;</mo><mi>i</mi><mi>n</mi><mi>c</mi><mi>o</mi><mi>n</mi><mi>n</mi><mi>u</mi></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-695"> obstacle > vide > inconnu </script></span><br>
Ce qui se traduit dans notre représentation de matrice par le maximum entre l’ancienne valeur d’une case et la nouvelle valeur calculé.</p><pre><code class="pyhton hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span></div><div class="code"><span class="hljs-keywords">for</span> <span class="hljs-symbol">x</span> in range(len(<span class="hljs-literal">self</span>.cartographie)):
        <span class="hljs-keywords">for</span> <span class="hljs-symbol">y</span> in range(len(<span class="hljs-literal">self</span>.cartographie)):
            <span class="hljs-literal">self</span>.cartographie[<span class="hljs-symbol">x</span>][<span class="hljs-symbol">y</span>] = <span class="hljs-built_in">max</span>(<span class="hljs-literal">self</span>.cartographie[<span class="hljs-symbol">x</span>][<span class="hljs-symbol">y</span>], cartographieTemporaire[<span class="hljs-symbol">x</span>][<span class="hljs-symbol">y</span>])
</div></div></code></pre><h2 id="Retour-maison"><a class="anchor hidden-xs" href="#Retour-maison" title="Retour-maison"><i class="fa fa-link"></i></a>Retour maison</h2><p>Pour retourner à la maison, c’est-à-dire au point de départ, nous calculons dans un premier temps les cases par lesquels le robot doit passer, puis nous effectuons le déplacement sur chacune de ces cases. Petite précision, nous ne souhaitons pas nous déplacer en diagonale, car le robot pourrait empiéter sur un obstacle avec sa largeur significative</p><h3 id="Algorithme-A"><a class="anchor hidden-xs" href="#Algorithme-A" title="Algorithme-A"><i class="fa fa-link"></i></a>Algorithme A*</h3><p>Pour calculer <strong>les cases à emprunter pour rentrer à la maison</strong>, nous avons choisi d’utiliser un <strong>algorithme A</strong>*. Cet algorithme effectue une recherche de chemin entre une case initiale et une case finale. Ce chemin n’est pas forcément le meilleur (c’est à minima l’un des meilleurs), mais il a l’avantage d’être <strong>très rapide</strong> à calculer. Pour celà, il associe à chacun des noeud qu’il parcout un <strong>coût</strong>, représentant le coût minimum pour se déplacer jusqu’à cette case, ainsi qu’un <strong>coût heuristrique</strong>, c’est à dire l’évaluation du coût qu’il faudra effectuer pour atteindre la case finale à partir de cette case. Pour calculer le coût, nous avons estimé que le déplacement d’une case engendrait un coût de 1. Pour calculer l’heuristique, nous additionnons la distance en x et en y qui sépare la case de la case finale, représentant le coût minimum possible pour se déplacer entre ces deux cases si il n’y a pas d’obstacle sur le chemin.<br>
L’algorithme va chercher, pour la case avec la plus petite somme de son coût et de son heuristique dans un tableau intialisé à la case de départ, ses voisins directement accessibles. Pour chacun de ces voisins, il se désigne comme père, calcul leur coût et coût heuristique, et l’ajoute au tableau seulement si il n’exite pas ce même point ou qu’il existe avec un coût et une heuristique suppérieur. L’algorithme s’arrête dès qu’il arrive à la case finale<br>
<img src="https://upload.wikimedia.org/wikipedia/commons/c/c2/Astarpathfinding.gif" alt="A* en action." class="md-image md-image"></p><h3 id="Algorithme-du-petit-poucet"><a class="anchor hidden-xs" href="#Algorithme-du-petit-poucet" title="Algorithme-du-petit-poucet"><i class="fa fa-link"></i></a>Algorithme du petit poucet</h3><p>A la fin du du A*, on obtient une <strong>liste de case</strong> et leur <strong>père</strong>. L’algorithme du <strong>petit poucet</strong> va, pour chacune des cases à partir de la case finale, chercher son père juqu’à remonter jusqu’à la case initiale. En nottant cet enchainement de la case finale à la case initiale, on obtient le chemin à emprunter pour passer de la case initiale à la case finale</p><h3 id="Saut-de-puce"><a class="anchor hidden-xs" href="#Saut-de-puce" title="Saut-de-puce"><i class="fa fa-link"></i></a>Saut de puce</h3><p>Pour effectuer les déplacement une fois les cases à parcourir déterminés, nous effectuons des <strong>“sauts de puce”</strong> de case en case. Pour celà, nous calculons dans un premier temps l’<strong>angle à parcourir</strong> pour que notre robot pointe sur le milieu de la prochaine case à atteindre, puis nous déplaçons à une <strong>vitesse constante sur un temps t déterminé</strong> afin de rejoindre cette case (chaque case étant équidistante de ses voisines). Nous effectuons ces étapes jusqu’à arriver sur la case initiale, qui est la maison.</p><p>On pourra remarquer qu’avec cette méthode, plus les cases sont petites, plus nous metterons de temps à calculer le chemin retour, mais plus il sera précis et aura l’air fluide.</p><h2 id="Résultats-obtenus"><a class="anchor hidden-xs" href="#Résultats-obtenus" title="Résultats-obtenus"><i class="fa fa-link"></i></a>Résultats obtenus</h2><p>Les résultats que nous avons pu obtenir sur ce projet sont à la hauteur de nos objectifs. En effet, la mise en oeuvre de nos algorithmes nous à permis de cartographier avec précision la zone comme le prouve l’image ci-dessous. Pour nous déplacer sur la MAP nous pouvons suivre un objet et le discriminer algorithmiquement pour qu’il ne s’affiche pas sur la MAP. Quand l’objet a disparu, nous sommes capables de revenir avec plus ou moins de précision au point de départ. Nous avons donc répondu aux contraintes du sujet, même si quelques améliorations concernant la discrimination des murs et l’arrêt sur une case auraient été possibles avec un peu plus de temps. Nous aurions également pu entrevoir l’agrégation de plusieurs capteurs afin d’améliorer l’odométrie et de prévenir les légers glissements des roues du robot.</p><p><img src="https://md.picasoft.net/uploads/upload_b310debbcada686ac99801dd163af9e4.png" alt="" class="md-image md-image"><br>
<code>'?' : inconnu ' ' : vide 'X' : mur 'O' : robot</code></p><h2 id="Conclusion"><a class="anchor hidden-xs" href="#Conclusion" title="Conclusion"><i class="fa fa-link"></i></a>Conclusion</h2><p>Lors de ce projet nous avons dû faire face à de nombreux problèmes de matériel (connexion ethernet avec le robot, problème de Wi-Fi). Cependant, nous avons tout de même pu obtenir de très bons résultats. Nous avons beaucoup apprécié ce projet car il nous a permis de mettre en application de nombreux algorithmes célèbres, mais aussi d’en créer de nouveaux pour résoudre nos problèmes. Nous avons également pu découvrir et mettre en pratique de nouveaux capteurs comme le lidar et l’odométrie des roues. Pour aller plus loin, il serait très intéressant d’utiliser des algorithmes de Machine Learning et d’apprentissage automatique ou l’algorithme de Trémaux modifié pour apprendre au robot à explorer par lui-même son environnement.</p></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#RAPPORT-AI06---Clément-Girard-Alexandre-Jörgensen" title="RAPPORT [AI06] - Clément Girard, Alexandre Jörgensen">RAPPORT [AI06] - Clément Girard, Alexandre Jörgensen</a><ul class="nav">
<li><a href="#Introduction" title="Introduction">Introduction</a><ul class="nav">
<li><a href="#Rappel-du-projet" title="Rappel du projet">Rappel du projet</a></li>
<li><a href="#Prises-de-liberté-sur-le-sujet" title="Prises de liberté sur le sujet">Prises de liberté sur le sujet</a></li>
</ul>
</li>
<li><a href="#Les-capteurs-et-effecteurs-utilisés" title="Les capteurs et effecteurs utilisés">Les capteurs et effecteurs utilisés</a><ul class="nav">
<li><a href="#Le-Lidar" title="Le Lidar">Le Lidar</a></li>
<li><a href="#L’odométrie" title="L’odométrie">L’odométrie</a></li>
</ul>
</li>
<li><a href="#Suivit-de-l’objet" title="Suivit de l’objet">Suivit de l’objet</a><ul class="nav">
<li><a href="#Partition-de-l’espace" title="Partition de l’espace">Partition de l’espace</a></li>
<li><a href="#Contiguïté" title="Contiguïté">Contiguïté</a></li>
<li><a href="#Déplacement" title="Déplacement">Déplacement</a></li>
</ul>
</li>
<li><a href="#Cartographie-de-l’environement" title="Cartographie de l’environement">Cartographie de l’environement</a><ul class="nav">
<li><a href="#Choix-technique-et-de-représentation-pour-la-cartographie" title="Choix technique et de représentation pour la cartographie">Choix technique et de représentation pour la cartographie</a></li>
<li><a href="#Détection-des-obstacles" title="Détection des obstacles">Détection des obstacles</a></li>
<li><a href="#Algorithme-pour-la-décision-des-zones-inconnues-ou-vide" title="Algorithme pour la décision des zones inconnues ou vide">Algorithme pour la décision des zones inconnues ou vide</a></li>
<li><a href="#Fusion-des-cartographies" title="Fusion des cartographies">Fusion des cartographies</a></li>
</ul>
</li>
<li><a href="#Retour-maison" title="Retour maison">Retour maison</a><ul class="nav">
<li><a href="#Algorithme-A" title="Algorithme A*">Algorithme A*</a></li>
<li><a href="#Algorithme-du-petit-poucet" title="Algorithme du petit poucet">Algorithme du petit poucet</a></li>
<li><a href="#Saut-de-puce" title="Saut de puce">Saut de puce</a></li>
</ul>
</li>
<li><a href="#Résultats-obtenus" title="Résultats obtenus">Résultats obtenus</a></li>
<li><a href="#Conclusion" title="Conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;"  >
        <div class="toc"><ul class="nav">
<li class=""><a href="#RAPPORT-AI06---Clément-Girard-Alexandre-Jörgensen" title="RAPPORT [AI06] - Clément Girard, Alexandre Jörgensen">RAPPORT [AI06] - Clément Girard, Alexandre Jörgensen</a><ul class="nav">
<li><a href="#Introduction" title="Introduction">Introduction</a><ul class="nav">
<li><a href="#Rappel-du-projet" title="Rappel du projet">Rappel du projet</a></li>
<li><a href="#Prises-de-liberté-sur-le-sujet" title="Prises de liberté sur le sujet">Prises de liberté sur le sujet</a></li>
</ul>
</li>
<li><a href="#Les-capteurs-et-effecteurs-utilisés" title="Les capteurs et effecteurs utilisés">Les capteurs et effecteurs utilisés</a><ul class="nav">
<li><a href="#Le-Lidar" title="Le Lidar">Le Lidar</a></li>
<li><a href="#L’odométrie" title="L’odométrie">L’odométrie</a></li>
</ul>
</li>
<li><a href="#Suivit-de-l’objet" title="Suivit de l’objet">Suivit de l’objet</a><ul class="nav">
<li><a href="#Partition-de-l’espace" title="Partition de l’espace">Partition de l’espace</a></li>
<li><a href="#Contiguïté" title="Contiguïté">Contiguïté</a></li>
<li><a href="#Déplacement" title="Déplacement">Déplacement</a></li>
</ul>
</li>
<li><a href="#Cartographie-de-l’environement" title="Cartographie de l’environement">Cartographie de l’environement</a><ul class="nav">
<li><a href="#Choix-technique-et-de-représentation-pour-la-cartographie" title="Choix technique et de représentation pour la cartographie">Choix technique et de représentation pour la cartographie</a></li>
<li><a href="#Détection-des-obstacles" title="Détection des obstacles">Détection des obstacles</a></li>
<li><a href="#Algorithme-pour-la-décision-des-zones-inconnues-ou-vide" title="Algorithme pour la décision des zones inconnues ou vide">Algorithme pour la décision des zones inconnues ou vide</a></li>
<li><a href="#Fusion-des-cartographies" title="Fusion des cartographies">Fusion des cartographies</a></li>
</ul>
</li>
<li><a href="#Retour-maison" title="Retour maison">Retour maison</a><ul class="nav">
<li><a href="#Algorithme-A" title="Algorithme A*">Algorithme A*</a></li>
<li><a href="#Algorithme-du-petit-poucet" title="Algorithme du petit poucet">Algorithme du petit poucet</a></li>
<li><a href="#Saut-de-puce" title="Saut de puce">Saut de puce</a></li>
</ul>
</li>
<li><a href="#Résultats-obtenus" title="Résultats obtenus">Résultats obtenus</a></li>
<li><a href="#Conclusion" title="Conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.0/js/bootstrap.min.js" integrity="sha256-kJrlY+s09+QoWjpkOrXXwhxeaoDz9FW5SaxF8I0DibQ=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
